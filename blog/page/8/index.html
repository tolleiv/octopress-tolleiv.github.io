
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>the fancy part of the web</title>
  <meta name="author" content="Tolleiv Nietsch">

  
  <meta name="description" content="Ten years ago Andi Gutmans and Zeev Suraski started to renew the old PHP3 core and in 1999 PHP4 was published and became really famous among Web- &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tolleiv.github.io/blog/page/8">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="the fancy part of the web" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner">
</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tolleiv.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2008/08/bye-bye-version-4/">Bye Bye Version 4&#8230;</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2008-08-08T19:30:00+02:00" pubdate data-updated="true">Aug 8<span>th</span>, 2008</time>
        
         | <a href="/2008/08/bye-bye-version-4/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ten years ago Andi Gutmans and Zeev Suraski started to renew the old PHP3 core and in 1999 PHP4 was published and became really famous among Web-Developers.<br/>
Bute 5 years late the successor was published and since then everyone is wondering why the era of PHP4 will end.<br/>
Today is the magical 8-8-8 where PHP4 is no longer supported so for everyone who still runs PHP4 for some reason<br/>
YOU SHOW NOW REALLY HAVE A LOOK AT THIS PAGE: <a href="http://www.php.net/manual/en/migration5.php">www.php.net/manual/en/migration5.php</a></p>

<p>Detailed history of PHP can be found on <a href="http://www.php.net/history">www.php.net/history</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2008/07/b-tree-simulation/">B-Tree Simulation&#8230;</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2008-07-29T21:25:00+02:00" pubdate data-updated="true">Jul 29<span>th</span>, 2008</time>
        
         | <a href="/2008/07/b-tree-simulation/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;m just preparing for some of my computer science exams and in one of my researches I found a really great B-Tree simulation and I&rsquo;d like to share it: <a href="http://slady.net/java/bt/view.php">http://slady.net/java/bt/view.php</a> &hellip;..</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2008/07/working-from-home/">Working From Home.</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2008-07-15T19:26:00+02:00" pubdate data-updated="true">Jul 15<span>th</span>, 2008</time>
        
         | <a href="/2008/07/working-from-home/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There&rsquo;s so much work in this week that I can&rsquo;t publish a article in the next days.<br/>
But Natalie Jost from <a href="http://www.alistapart.com/">A List Apart</a> just published a very nice article which you really should read if you&rsquo;re (like me) working from home <a href="http://www.alistapart.com/articles/walkingthelinewhenyouworkfromhome">read on..</a> &hellip; you&rsquo;ll like it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2008/07/musique-britisch-musique-p/">Musique &#8230; Britisch Musique :P</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2008-07-11T00:43:00+02:00" pubdate data-updated="true">Jul 11<span>th</span>, 2008</time>
        
         | <a href="/2008/07/musique-britisch-musique-p/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content">
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2008/07/track-time-for-a-subroutine-within-a-shell-script/">Track Time for a Subroutine Within a Shell-script</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2008-07-10T23:55:00+02:00" pubdate data-updated="true">Jul 10<span>th</span>, 2008</time>
        
         | <a href="/2008/07/track-time-for-a-subroutine-within-a-shell-script/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The following code-snippet is a shell-script which does the following:</p>

<ol>
<li><p> Track the time for a block of shell commands</p></li>
<li><p> Check if the time was less than x seconds (the example uses 10 seconds)</p></li>
<li><p> If the block run through too fast the script waits/sleeps a few seconds</p></li>
<li><p> Run all this within a loop so that the block of shell-commands is executed periodically</p></li>
</ol>


<p>I used the script combined with a PHP script which processes a queue. The PHP script processes 1000 elements from the queue and takes about 30 seconds for that. Since just having a cronjob per minute would be not efficient enought I used this script.
The waiting-block is necessary because now and then the queue is empty &hellip; but I think there are lot&rsquo;s of situations where a script like this can be usefull:</p>

<pre><code>#!/bin/bash
while [ 1 -ge 0 ]; do
time_begin=`date +%s`


###BLOCK 2 TRACK - BEGIN
number=$RANDOM
let "number %= 20"
sleep $number
###BLOCK 2 TRACK - END

time_end=`date +%s`
total=$((time_end-time_begin))

if [[ $total -ge 10 ]]; then
echo "time taken was: $number : $total"
else
echo "time take was too less  $number : $total"
sleep 10
fi
done
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2008/07/iterator-gof/">Iterator [GoF]</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2008-07-07T19:30:00+02:00" pubdate data-updated="true">Jul 7<span>th</span>, 2008</time>
        
         | <a href="/2008/07/iterator-gof/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Lot&rsquo;s of people like to write down things into lists, so that they can go through that list later and check whether everything was fine. Normally every recipe has a list ~ there&rsquo;s always a list of ingredients at the beginning of the recipe.
This short example shows how such a list can be processed in PHP. So why would you want to have something else than a array to hold your objects? &ndash; My example still uses a array to hold the objects (uni- or bidirectional lists would also be possible) but it adds a kind of a facade to the array so that the common managements-tasks are handled within the List-Object. Everything you need for this example is present in PHP since version 5.0. The basic steps you need to do is to provide a &ldquo;Object&rdquo; and an &ldquo;ObjectList&rdquo; which implements the native <a href="http://www.php.net/manual/en/language.oop5.iterations.php">&ldquo;Iterator&rdquo;</a> interface and then you&rsquo;re able to have very handy lists :)</p>

<p>class Incredient {</p>

<p>public $name,$amount;
public function __construct($name,$amount) {
$this->name = $name;
$this->amount = $amount;
}
}</p>

<p>class Recipe implements Iterator {
public $title;
private $ingredients;</p>

<p>public function __construct ($title) {
$this->title = $title;
}</p>

<p>public function addIncredient(Incredient $in) {
$this->ingredients[] = $in;
}</p>

<p>public function current ()  {   return current ($this->ingredients);    }
public function key ()      {   return key($this->ingredients);         }
public function valid ()    {   return current ($this->ingredients);    }
public function rewind ()   {   return reset ($this->ingredients);      }
public function next ()     {   return next ($this->ingredients);       }
}</p>

<p>$cookieRecipe = new Recipe(&ldquo;Chocolate Cookie&rdquo;);
$cookieRecipe->addIncredient(new Incredient(&lsquo;Flour&rsquo;,&lsquo;2.5 cups&rsquo;));
$cookieRecipe->addIncredient(new Incredient(&lsquo;Baking soda&rsquo;,&lsquo;1 teaspoon&rsquo;));
$cookieRecipe->addIncredient(new Incredient(&lsquo;Salt&rsquo;,&lsquo;0.5 teaspoon&rsquo;));
$cookieRecipe->addIncredient(new Incredient(&lsquo;Butter&rsquo;,&lsquo;1 cup&rsquo;));
$cookieRecipe->addIncredient(new Incredient(&lsquo;Sugar&rsquo;,&lsquo;1 cup&rsquo;));
$cookieRecipe->addIncredient(new Incredient(&lsquo;Brown Sugar&rsquo;,&lsquo;0.5 cup&rsquo;));
$cookieRecipe->addIncredient(new Incredient(&lsquo;Vanilla extract&rsquo;,&lsquo;1 teaspoon&rsquo;));
$cookieRecipe->addIncredient(new Incredient(&lsquo;Egg&rsquo;,&lsquo;1-2&rsquo;));
$cookieRecipe->addIncredient(new Incredient(&lsquo;Chocolate chips&rsquo;,&lsquo;2 cups&rsquo;));</p>

<p>// process recipe:
foreach($cookieRecipe as $inc) {
echo $inc->name.&ldquo; => &rdquo;.$inc->amount.&ldquo;<br/>&rdquo;;
}</p>

<p>As you see it&rsquo;s pretty easy to have lists of objects in PHP. You might also think that always creating to some list-object over and over again is very odd and you&rsquo;re right. For the most common tasks like <a href="http://www.php.net/manual/en/class.arrayiterator.php">iterating through arrays</a>, <a href="http://www.php.net/manual/en/class.directoryiterator.php">directory-lists</a> and a few more task you can use objects which are shipped with the Standard PHP Library ,which is also part of PHP since version 5 and mandatory in 5.3. So the example shown above could also look like this:</p>

<p>$recipe = array();
$recipe[] = new Incredient(&lsquo;Flour&rsquo;,&lsquo;2.5 cups&rsquo;);
$recipe[] = new Incredient(&lsquo;Baking soda&rsquo;,&lsquo;1 teaspoon&rsquo;);
$recipe[] = new Incredient(&lsquo;Salt&rsquo;,&lsquo;0.5 teaspoon&rsquo;);
$recipe[] = new Incredient(&lsquo;Butter&rsquo;,&lsquo;1 cup&rsquo;);
$recipe[] = new Incredient(&lsquo;Sugar&rsquo;,&lsquo;1 cup&rsquo;);
$recipe[] = new Incredient(&lsquo;Brown Sugar&rsquo;,&lsquo;0.5 cup&rsquo;);
$recipe[] = new Incredient(&lsquo;Vanilla extract&rsquo;,&lsquo;1 teaspoon&rsquo;);
$recipe[] = new Incredient(&lsquo;Egg&rsquo;,&lsquo;1-2&rsquo;);
$recipe[] = new Incredient(&lsquo;Chocolate chips&rsquo;,&lsquo;2 cups&rsquo;);</p>

<p>$recipeIncObj = new ArrayObject($recipe);
$ingredientsIt = $recipeIncObj->getIterator();</p>

<p>foreach($ingredientsIt as $inc) {
echo $inc->name.&ldquo; => &rdquo;.$inc->amount.&ldquo;<br/>&rdquo;;
}</p>

<p>As I said at the beginning, there are lots of situations where you might want to have a list for something and if you store that list in PHP the Iterator-pattern can keep your code clean and tasty :)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2008/07/how-breakfast-could-look-like/">How Breakfast Could Look Like&#8230;</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2008-07-03T23:37:00+02:00" pubdate data-updated="true">Jul 3<span>rd</span>, 2008</time>
        
         | <a href="/2008/07/how-breakfast-could-look-like/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>hey that&rsquo;s great &ndash; my mom never created something like this for me:</p>

<p>check out on: <a href="http://fiveprime.org/hivemind/Tags/bento">http://fiveprime.org/hivemind/Tags/bento</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2008/07/our-wonderful-nature/">Our Wonderful Nature</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2008-07-02T21:30:00+02:00" pubdate data-updated="true">Jul 2<span>nd</span>, 2008</time>
        
         | <a href="/2008/07/our-wonderful-nature/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Nice video I just found on some german page:</p>

<p><a href="http://vids.myspace.com/index.cfm?fuseaction=vids.individual&amp;videoid=33359537">Our wonderful nature by Tomer Eshed</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2008/07/null-object-pattern/">Null-Object Pattern</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2008-07-01T19:58:00+02:00" pubdate data-updated="true">Jul 1<span>st</span>, 2008</time>
        
         | <a href="/2008/07/null-object-pattern/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Very often you create a object with a factory and before you really start using it, you check if your factory really created a object or returned NULL. Or maybe you have a method where a object is passed in and in this situation you&rsquo;ll have to do this check also.</p>

<p>Instead of typing the &ldquo;if(object == null)&rdquo; phrase again and again, you could use the Null-Object pattern, you&rsquo;ll see that this can make some situations much clearer.</p>

<p>Basically Null-Object ensures that the client always receives a valid object for it&rsquo;s interaction, so that there&rsquo;s no need to do the check shown above again and again. This happens since your concrete Null-Object just shares the interface, or inherits from the same class as it&rsquo;s effective counterpart, but it&rsquo;s implementation just leaves out any effectiveness.
<a href="http://bp3.blogger.com/_l5fIZzJyYfc/SGpiDZ9m-rI/AAAAAAAAACo/nVuiUHE4E90/s1600-h/nullobject_pattern.png">
<img src="http://bp3.blogger.com/_l5fIZzJyYfc/SGpiDZ9m-rI/AAAAAAAAACo/nVuiUHE4E90/s400/nullobject_pattern.png" alt="" /></a> So a code-example could look like this:</p>

<p>class CookieFactory {
public function makeInstance() {
if(date(&lsquo;l&rsquo;)==&lsquo;Monday&rsquo;) return new NullCookie();
return new RealCookie();
}
}</p>

<p>interface iCookie {
function getCalories();
}</p>

<p>class RealCookie implements iCookie {
protected $calories=250;
public function getCalories() {
return $this->calories;
}
}</p>

<p>class NullCookie implements iCookie {
public function getCalories() {
return 0;
}
}</p>

<p>I think you can imagine what happens when you make use of the CookieFactory &ndash; diet on monday ;)</p>

<p>There&rsquo;re also some disadvantages, your clients normally don&rsquo;t have a chance to react that there&rsquo;s something special happening, also the clients must &ldquo;share&rdquo; the same expectation what &ldquo;do nothing&rdquo; means, the number of required Null-Objects might be very large and unhandy and the Null-Object shares a very deep knowledge with the real one, so that it might be a large effort to create it if the real object is complex too.</p>

<p>I&rsquo;m so glad that today is tuesday :P</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2008/07/chronotopic-anamorphosis/">Chronotopic Anamorphosis</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2008-07-01T11:12:00+02:00" pubdate data-updated="true">Jul 1<span>st</span>, 2008</time>
        
         | <a href="/2008/07/chronotopic-anamorphosis/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The start is a bit lame but the end is just mind-blowing:</p>

<p><a href="http://www.vimeo.com/1163538?pg=embed&amp;sec=1163538">Chronotopic Anamorphosis</a> from <a href="http://www.vimeo.com/marginalia?pg=embed&amp;sec=1163538">Marginalia Project</a> on <a href="http://vimeo.com?pg=embed&amp;sec=1163538">Vimeo</a>.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/9/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/7/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/06/templavoila-followup/">TemplaVoila - followup</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/templavoila-future/">TemplaVoila future</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/genetic-algorithms-boosting-solr/">Using genetic algorithms to optimize Apache Solr boost factors.</a>
      </li>
    
      <li class="post">
        <a href="/2012/12/re-how-to-move-on-typo3/">Re: How to move on? #TYPO3</a>
      </li>
    
      <li class="post">
        <a href="/2012/12/typo3-login-state-and-varnish-cache/">TYPO3 login state and Varnish cache</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/tolleiv">@tolleiv</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'tolleiv',
            count: 1,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Tolleiv Nietsch <br/>
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>, customized with <a href="https://github.com/mjhea0/whiterspace">whiterspace</a>.</span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'tolleiv';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
